<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>Platform Abstraction Layer API Documentation</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<link href="doxygen.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td><img src="images/TCAT.gif" width="399" height="64"></td>
				<td align="right">
					<div align="left">
						</div>
				</td>
				<td align="right">
					<div align="right">
						<b><font face="Verdana, Arial, Helvetica, sans-serif"><img src="images/dice_logo.gif" width="120" height="50"></font></b></div>
				</td>
			</tr>
		</table>
		<hr size="1">
	</body>
</html>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TCAT DICE Platform Abstraction Layer (PAL) Documentation</h1><h3 class="version">4.1.3 </h3><p>The TCAT DICE™ platform abstraction layer (tcat::pal) is a cross platform DICE™ control application library and provides an interface to the DICE™ functionality. It hides platform differences from the user and automatically deals with OS driver communications and notifications. It instantiates and removes bus and device representation objects as a reaction to OS device arrival/removal notifications.</p>
<p>The application basically needs to install a (derived) system class. The system class will build a tree of busses, devices and audio channels and maintains an up-to-date state. All common DICE™ functionality is addressed by the class tree and the user can overwrite the tcat::pal classes to add specific functionality and to react to bus and device notification.</p>
<p><b>The tcat::pal is an STL tree and consists of four parts.</b></p>
<ul>
<li>an application wide system singleton acts as the STL tree root,</li>
<li>automatically generated bus objects, the STL tree branches,</li>
<li>automatically generated device objects, the STL branch limbs and</li>
<li>automatically generated channel objects, the STL limb leaves.</li>
</ul>
<div class="fragment"><pre class="fragment">system --&gt; bus +-&gt; device +-&gt; channel
               |          +-&gt; channel
               |          +-&gt; channel
               |                     
               +-&gt; device +-&gt; channel
               |          +-&gt; channel
               |                    
               +-&gt; device           
</pre></div><p><em>The current DICE™ driver implementation is limited to only one bus - representing one firewire bus with attached DICE™ devices. Anyway the tcat::pal concept is to provide a stable interface definition, so it already covers the bus handling.</em></p>
<p>The system and bus classes are implemented as templates. Their STL list object types are defined by these template parameters. To host a derived bus class the system class template parameter has to be set to the derived bus class and to host a derived device class the bus class template parameter has to be set to the derived device class.</p>
<p><b>Instantiating a derived device tree:</b> </p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> system&lt;bus&lt;my_device&gt; &gt; my_system;
<span class="keyword">typedef</span> reference&lt;my_system&gt;    my_system_ref;

my_system_ref sys = my_system::static_create&lt;my_system&gt;();
</pre></div><p><b>Instantiating a derived bus:</b> </p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> system&lt;my_bus&lt;device&gt; &gt; my_system;
<span class="keyword">typedef</span> reference&lt;my_system&gt;    my_system_ref;

my_system_ref sys = my_system::static_create&lt;my_system&gt;();
</pre></div><p><b>Instantiating a derived bus and device tree:</b> </p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> system&lt;my_bus&lt;my_device&gt; &gt;  my_system;
<span class="keyword">typedef</span> reference&lt;my_system&gt;        my_system_ref;

my_system_ref sys = my_system::static_create&lt;my_system&gt;();
</pre></div><p><b>Following is a list of all (over-writable) notification handlers:</b></p>
<ul>
<li>general for all classes:<ul>
<li><b>create()</b>: Called before object creation</li>
<li><b>exception()</b>: Called on fatal exceptions if the exception cannot be delivered by try/catch (i.e. happened from within another thread)</li>
</ul>
</li>
</ul>
<ul>
<li>specific to system:<ul>
<li><b>update_buslist()</b>: Called before the list of busses needs to be updated</li>
<li><b>close()</b>: This must be called before the system's destructor is called to guarantee an orderly shutdown of any existing bus objects and their notification callbacks.</li>
</ul>
</li>
</ul>
<ul>
<li>specific to bus:<ul>
<li><b>mount()</b>: Notifies about the readily created bus (Windows: first device arrival; OSX: immediately &amp; always)</li>
<li><b>unmount()</b>: Notifies about the removal of the bus (Windows: last device removal; OSX: when system is destructed.)</li>
<li><b>update_clock()</b>: Informs about clock() (sample rate) changes</li>
<li><b>update_clock_caps()</b>: Informs about clock_caps() (sample rate capabilities) changes</li>
<li><b>update_sync()</b>: Informs about sync() (clock source) changes</li>
<li><b>update_sync_names()</b>: Informs about sync_name() changes</li>
<li><b>update_sync_caps()</b>: Informs about sync_caps() (clock source) changes</li>
<li><b>update_devicelist()</b>: called before the list of devices needs to be updated</li>
<li><b>update_devices()</b>: called before all devices will be notified about device state change</li>
<li><b>update_clock()</b>: The clock (sampling rate) has changed</li>
<li><b>update_sync()</b>: The sync source has changed</li>
<li><b>update_io_size()</b>: The I/O size has changed (Windows only)</li>
<li><b>update_min_io_size()</b>: The minimum allowed I/O size has changed (Windows only)</li>
<li><b>update_max_io_size()</b>: The maximum allowed I/O size has changed (Windows only)</li>
<li><b>update_master()</b>: The clock master has changed</li>
<li><b>update_op_mode()</b>: The operation mode has changed</li>
<li><b>update_speaker()</b>: Informs about Out speaker configuration changes (Windows only)</li>
<li><b>update_speaker_map(bool out, uint32 speaker)</b>: Informs about speaker_map In(false) or Out(true) changes (Windows only)</li>
<li><b>update_clients()</b>: The number of driver clients has changed. Use this notifier to find out if a change of driver clients will affect bus property accessibility</li>
<li><b>update_rate_readonly()</b>: Restrictions on changing the sample rate parameter has changed</li>
<li><b>update_sync_readonly()</b>: Restrictions on changing the sync source parameter has changed</li>
<li><b>update_master_readonly()</b>: Restrictions on changing the master device parameter has changed</li>
<li><b>update_io_size_readonly()</b>: Restrictions on changing the buffer size parameter has changed</li>
<li><b>update_op_mode_readonly()</b>: Restrictions on changing the operation mode parameter has changed</li>
<li><b>update_nickname_readonly()</b>: Restrictions on changing the nickname parameter has changed</li>
<li><b>progress()</b>: Called whenever a time consuming process is making any progress</li>
</ul>
</li>
</ul>
<ul>
<li>specific to device:<ul>
<li><b>mount()</b>: Notifies about the arrival of a valid (completely built and updated) device</li>
<li><b>unmount()</b>: Notifies about the removal of the device (physically disconnected)</li>
<li><b>update()</b>: Called before the device state will be updated</li>
<li><b>update_nickname()</b>: Informs about a nickname change</li>
<li><b>update_idx()</b>: Informs about a device index changes (actually another device with a lower GUID has arrived or has been removed)</li>
<li><b>update_state()</b>: The device state has changed</li>
<li><b>update_clock()</b>: Notifies about device clock (sample rate) change at a locked device - obtain new sample rate with clock()</li>
<li><b>update_tx_locked()</b>: Notifies about an receiver lock status change - obtain new state with rx_locked()</li>
<li><b>update_locked()</b>: Notifies about the locked state of the device has changed - obtain new state with locked()</li>
<li><b>firmware_progess()</b>: Called during firmware operation and informes about operation progress <br/>
<br/>
<br/>
</li>
</ul>
</li>
</ul>
<p><b>Use the reference objects to create and access the device tree:</b> </p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classtcat_1_1dice_1_1reference.html" title="Auto reference helper class.">tcat::dice::system_ref</a> my_system;

    <span class="keywordflow">try</span>
    {
        <span class="comment">// create a system object - a single instance usually held over the entire application life time</span>
        my_system = <a class="code" href="classtcat_1_1dice_1_1system.html" title="Application wide singleton acts as the STL device tree root.">tcat::dice::system&lt;bus&lt;device&gt;</a> &gt;::static_create&lt;tcat::dice::system&lt;bus&lt;device&gt; &gt;();
    }
    <span class="keywordflow">catch</span> (<a class="code" href="classtcat_1_1exception_1_1base.html">tcat::exception::base</a> xptn)
    {
        <span class="comment">// the system object will only fail to construct if it can&#39;t be bound to any notification </span>
        <span class="comment">// that would allow establishing a device tree at a time when driver/device access is available</span>
        <span class="comment">// do error handling here, possibly</span>
        <span class="keywordflow">return</span> driver_not_installed_error;
    }

    <span class="comment">// if no exception was thrown the system object has been successfully constructed</span>

    <span class="comment">// get a bus: </span>
    { 
        <span class="comment">// the enclosing brackets define the lifetime of the bus object - it is to released as soon as possible</span>
        <a class="code" href="classtcat_1_1dice_1_1reference.html" title="Auto reference helper class.">tcat::dice::bus_ref</a> my_bus;
        {
            <span class="comment">// the enclosing brackets define the lifetime of the lock and therefor how long the lock is held.</span>
            <a class="code" href="classtcat_1_1dice_1_1lock.html" title="Auto lock stack class.">tcat::dice::lock</a> lock(my_system);           <span class="comment">// lock the system</span>
            my_bus = my_system-&gt;<a class="code" href="classtcat_1_1dice_1_1reference.html#a3790dd59666ce3a3ec56b9bf3cc50283" title="Deprecated: lock and dynamic cast to list objects.">at</a>(0);                  <span class="comment">// it is ok to assume that there is only one bus in tcat::pal version 3.x</span>
            <span class="keywordflow">if</span> (!my_bus)
                <span class="keywordflow">return</span> no_bus_and_no_devices_present;   <span class="comment">// leaving the focus at any place in code is ok - objects will be released</span>
        }
        <span class="comment">// access the bus</span>
        tcat::dice::CLOCK bus_clock = my_bus-&gt;clock();
        
        <span class="comment">// the enclosing brackets define the lifetime of the device object - it is to released as soon as possible</span>
        <span class="comment">// the bus and device object lifetime does not need to coincide (it does though in this example)</span>
        <a class="code" href="classtcat_1_1dice_1_1reference.html" title="Auto reference helper class.">tcat::dice::device_ref</a> my_device;
        <span class="comment">// get a device</span>
        {
            <span class="comment">// the enclosing brackets define the lifetime of the lock and therefor how long the lock is held.</span>
            <a class="code" href="classtcat_1_1dice_1_1lock.html" title="Auto lock stack class.">tcat::dice::lock</a> lock(my_bus);      <span class="comment">// lock the bus</span>
            my_device = my_bus-&gt;<a class="code" href="classtcat_1_1dice_1_1reference.html#a3790dd59666ce3a3ec56b9bf3cc50283" title="Deprecated: lock and dynamic cast to list objects.">at</a>(device_idx); <span class="comment">// please refer to the STL documentation of the various ways of accessing an STL container</span>
            <span class="keywordflow">if</span> (!my_device)
                <span class="keywordflow">return</span> no_devices_present;      <span class="comment">// leaving the focus at any place in code is ok - objects will be released</span>
        }

        <span class="comment">// access the device</span>
        std::string device_nickname = my_device-&gt;nickname();
        
        <span class="comment">// at this point device and bus object are going out of focus - the referenced objects are released</span>
    }

    <span class="keywordflow">if</span> (my_system)
    {
        my_system-&gt;close();
    }
}
</pre></div><p><b>Due to the driver design there are platform differences:</b> The OSX bus object is bound to the availability of a 1394 bus driver. The tcat::pal will always construct a valid bus object (as long as a version conforming DICE interface can be found). The properties of the bus object are fully accessible although it may not contain any devices. (The bus object will only be removed if the 1394 driver unloads: i.e. the physical 1394 interface is removed.)<br/>
<br/>
</p>
<p>The windows pal::bus object is constructed when the first device appears and is destructed when the last device of that bus disappears. No device - no bus - no driver interface.<br/>
<br/>
<br/>
</p>
<p><b>Note:</b><br/>
 Link to <b>setupapi.lib</b> and <b>winmm.lib</b> to create a windows application. <br/>
<br/>
<br/>
</p>
<p><b>Latest changes / migration tips:</b><br/>
<br/>
</p>
<p><b>4.1.2</b><br/>
</p>
<p>Case 1193 Allowing WDM applications to change the sample rate is now handled automatically in the driver. Therefore allow_wdm_samplerate_changes(), allow_wdm_samplerate_changes_readonly(), update_allow_wdm_samplerate_changes(), and update_allow_wdm_samplerate_changes_readonly() have been removed. <br/>
<br/>
<br/>
</p>
<p><b>4.1.0</b><br/>
</p>
<p>Case 1112 For Windows Vista and later, WDM applications can be allowed or disallowed to change the sample rate. Using allow_wdm_samplerate_changes() an application can get/set this preference. Using allow_wdm_samplerate_changes_readonly() an application can determine if the setting can currently be changed (i.e. when no other WDM clients are not active). Using update_allow_wdm_samplerate_changes() and update_allow_wdm_samplerate_changes_readonly() the application can receive notifications that these settings have changed. <br/>
<br/>
<br/>
</p>
<p><b>4.0.0</b><br/>
</p>
<p>Case 981 Eliminated a race condition in the PAL that could occur on Mac OS X when sequentially setting multiple driver parameters (sample rate, clock source, clock master, operation mode) that would result in only the first parameter actually changing.</p>
<p>Case 1061 The 4.0.0 driver is no longer limited to power-of-two ASIO buffer sizes. The driver now allows setting a buffer size that is a multiple of either 32 or 48 (and must also between the min and max) using the PAL API. ASIO hosts are still told that only power-of-two buffer sizes are supported, since it is not possible to describe the above limitation in the ASIO protocol. <br/>
<br/>
<br/>
</p>
<p><b>3.5.6</b><br/>
</p>
<p>Case 553 It is now possible to have multiple instantiations of the PAL library in a Windows application. <br/>
<br/>
<br/>
</p>
<p><b>3.5.3</b><br/>
</p>
<p>Case 769 PAL based applications could crash when quit. <br/>
</p>
<ul>
<li>A new <a class="el" href="classtcat_1_1dice_1_1system.html#a235acbfe76500ea04dfff35ebb528865" title="system destructor">system::close()</a> method has been added that unmounts and closes any bus objects to avoid race conditions during shutdown. This must now be called before the system destructor is called. Since a single instance of the system object is usually held over the entire application life time, close() should be called just before the application releases its system object reference and quits.<br/>
</li>
<li>The debug build will now assert when run from the debugger to indicate that a system object has not been closed properly or that a bus object has not been unmounted properly. <br/>
<br/>
<br/>
</li>
</ul>
<p><b>3.4.1</b><br/>
</p>
<p>More detailed parameter locking info is available. For applications that would like to restrict changing parameters based on a separate heuristic for each parameter. The restriction depends on the number of open ASIO and or WDM clients depending on the particular parameter.</p>
<ul>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#ae935ed631bdc919a12b22977b2fe0740" title="Notification that the sample rate restriction has changed.">bus::update_rate_readonly()</a> : sample rate change restriction notification. <br/>
</li>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a1f90f07242febd720258c0bfa7298db6" title="Notification that the sync source restriction has changed.">bus::update_sync_readonly()</a> : sync source change restriction notification. <br/>
</li>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a159bb70c422551084ce5e7f4f77f0191" title="Notification that the master restriction has changed.">bus::update_master_readonly()</a> : master change restriction notification. <br/>
</li>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#ab738346d0d6d1f9d0d433f99e3918cd4" title="(Windows only) Notification that the buffer size restriction has changed">bus::update_io_size_readonly()</a> : buffer size change restriction notification. <br/>
</li>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a037473fe90c06652832bd9cbb872bd3a" title="Notification that the operation mode restriction has changed.">bus::update_op_mode_readonly()</a> : operation mode change restriction notification. <br/>
</li>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a3adb4d47adba5c4deccd216f85f1a4a8" title="Notification that the nickname restriction has changed.">bus::update_nickname_readonly()</a> : nickname change restriction notification. <br/>
</li>
</ul>
<ul>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a6c56bc283cd90c845c8176815eede9ce" title="is the sample rate parameter currently changeable">bus::rate_readonly()</a> : determine if the sample rate parameter can be changed <br/>
</li>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a200cbf8558584b2f6654aa430782364b" title="is the sync source parameter currently changeable">bus::sync_readonly()</a> : determine if the sync source parameter can be changed <br/>
</li>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#af8873f9c441d16f797f505d8f001b8e5" title="is the master parameter currently changeable">bus::master_readonly()</a> : determine if the master parameter can be changed <br/>
</li>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#aa2f438b2f860a086303192b264ef4ea1" title="(Windows only) is the buffer size parameter currently changeable">bus::io_size_readonly()</a> : determine if the buffer size parameter can be changed <br/>
</li>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a19b731c54b1d6be816579a47a31e9ec3" title="is the operation mode parameter currently changeable">bus::op_mode_readonly()</a> : determine if the operation mode parameter can be changed <br/>
</li>
<li>bool <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a47061af4bce1879b572ba98ae688f59f" title="is the nickname parameter currently changeable">bus::nickname_readonly()</a> : determine if the nickname parameter can be changed <br/>
 <br/>
<br/>
<br/>
</li>
</ul>
<p><b>3.4.0</b><br/>
</p>
<ul>
<li>(WDM:) bus::update_wdm() : WDM enabled state notification. This method has been removed. WDM can no longer be disabled in the driver so this notification is not needed.<br/>
</li>
<li>(WDM:) bus::wdm(bool enable) : Set WDM enabled state. This method has been removed. WDM can no longer be disabled in the driver.<br/>
</li>
<li>(WDM:) bus::wdm() : Get WDM enabled state. This method has been removed. WDM is always enabled in the driver.<br/>
</li>
<li>(WDM:) bus::speaker(bool out, uint32 configuration) : Set speaker configuration. This method has been removed. Speaker setup should always be changed from the Windows Sounds and Audio Devices control panel.<br/>
</li>
<li>(WDM:) bus::speaker(bool out) : Set speaker configuration. This method has been removed. Speaker setup should always be changed from the Windows Sounds and Audio Devices control panel.<br/>
</li>
<li>(WDM:) uint32 bus::speaker(bool out) : Get speaker configuration. This method has changed. Speaker setup always applies to out, so the parameter has been removed.</li>
<li>(WDM:) bus::update_speaker(bool out) : speaker configuration notification. This method has changed to <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#ab58b61d73f9c3ac7078e65d7c41c950a" title="(Windows only) Informs about speaker In(false) or Out(true) setup changes">bus::update_speaker()</a>. The speaker setup only applies to out, so the parameter has been removed.<br/>
 <br/>
<br/>
<br/>
</li>
</ul>
<p><b>3.3.0</b><br/>
</p>
<ul>
<li><a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a40809a04a7d48d7f1902f678cda39677" title="Transforms the SYNC source enum into a human readable std::string provided by the...">bus::sync_name()</a>: case 263: fixed incorrectly endian swapped sync names on PPC.</li>
<li>(WDM:) bus::update_clock_change_permit() and bus::clock_change_permit(): case 258: The driver detects now by itself, in which situation a streaming property change request can be honored without disturbing improper OS or DAW implementations. Therefor the sample rate change permission feature has been removed from driver and pal.</li>
<li>case 258: <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a7f7ab03249feacb0a9ffc6c428e3ef8d" title="Returns the total number of audio clients - used to know about streaming parameter...">bus::clients()</a> and <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#a0ca671156e366ecaf7f9c23ce41c9e47" title="Informs about clients() (number of driver clients) changes - used to know about streaming...">bus::update_clients()</a> have been added to find out if a change of driver clients will affect bus property accessibility.</li>
<li>(OSX:) The permission of the persistent storage file was user dependent and access could therefor fail when generated by another user.</li>
<li>exception handling: case 255: version mismatch exceptions will now be thrown by <a class="el" href="classtcat_1_1dice_1_1system.html#a3c1be9e4170014605d2d2332d598aabf" title="&lt; Static object creation">system::static_create()</a> instead of notifiying by the <a class="el" href="classtcat_1_1dice_1_1system__impl.html#af92e91f046b275fd2ee33b25ceaff06b" title="Exception handler to overwrite.">system::exception()</a>. <br/>
<br/>
<br/>
</li>
</ul>
<p><b>3.2.0</b><br/>
</p>
<ul>
<li>The value type of bus_impl::opmode() has been changed from int to OP_MODE. <em>Please use the enum OP_MODE now. The meaning of values itself have been changed on the OSX version to have the same meaning as under windows.</em></li>
<li>Build version flags have been added to the 32bit build number. The flags indicate official release vs. intermediate preliminary builds, builds made by the build server vs. local developer builds and instrumented/debug vs. deployment builds. <em>Please make sure you always use TCAT_VERSION_xxx() macros to exctract the correct version information from the 32bit value.</em></li>
<li>OSX: workaround for reading an invalid master device GUID after device removal has been implemented. <br/>
<br/>
<br/>
</li>
</ul>
<p><b>build 128</b><br/>
</p>
<ul>
<li>pal: windows: occasional deadlock on system removal fixed <em>Please make sure that the notifiers of the super class are always called when handling notifications.</em> <br/>
<br/>
<br/>
</li>
</ul>
<p><b>build 122</b><br/>
</p>
<ul>
<li>pal:osx: notification thread hang on initialization failure fix <br/>
<br/>
<br/>
</li>
</ul>
<p><b>build 118</b><br/>
</p>
<ul>
<li>new binary and firmware versioning support</li>
<li>new harmonized <a class="el" href="classtcat_1_1dice_1_1device.html#a252af76da15a2dae1bcabb5c575e4e15" title="Returns the firmware binary info description by reading from the device.">device::firmware_info()</a> methods</li>
<li>obsolete device::firmware_vendor() removed <br/>
<br/>
<br/>
</li>
</ul>
<p><b>build 97</b><br/>
</p>
<ul>
<li>device ordering fixed</li>
<li>device notifications for stacked devices not correctly distributed fixed</li>
<li>device update handling (would not always notify about changes) fixed</li>
<li>bus notification handling fixed</li>
<li>support for slow firmware loader responses added</li>
<li>integrated channel handling</li>
<li>WDM: open fails with more specific exception</li>
<li>OSX: device arrival update notification fixed <br/>
<br/>
<br/>
</li>
</ul>
<p><b>build 82</b><br/>
 <b>split of device::ex_status() in <a class="el" href="classtcat_1_1dice_1_1device.html#a6203959c9a75b21af6182c76dfab67de" title="Returns the extended status locked information.">device::rx_locked()</a> and <a class="el" href="classtcat_1_1dice_1_1device.html#ae402382f1dc2a9f592f79f0cb5c4e3b2" title="Returns the extended status slip information.">device::rx_slipped()</a></b><br/>
 The extended status retrieval method had to be split up into rx_locked() and rx_slipped() due to an inconsistent slip state report. The device only notifies about lock status changes. Slip indications are accumulated and cleared when the device register is read.</p>
<p>The change notifier update_ex_status() is replaced by update_tx_locked() and now only informs about receiver lock state changes.<br/>
<br/>
</p>
<p><b>removed device::notification()</b><br/>
 device::notification() has been removed. Overwrite <a class="el" href="classtcat_1_1dice_1_1device.html#a47eb58acaa322a47675b4aa97c11915b" title="Notifies about a device user event.">device::update_user()</a> to react on user device notifications.<br/>
<br/>
<br/>
</p>
<p><b>build 78</b><br/>
 <b>1. Data Fetch &amp; Notification Separation</b><br/>
 The whole device tree will be internally updated before the notifiers are called. The consequence is that it is now guaranteed that any state of tree will be valid and can be requested in any of the notifiers. While the underlying changes are quite drastic the interface has been kept untouched where possible.<br/>
<br/>
</p>
<p>Anyway some minor adaptations had to be made:<br/>
 void <a class="el" href="classtcat_1_1dice_1_1system.html#afcd6ac6b3f7c152a8c48384c453ce58a" title="Notifies the system object of bus(driver) arrival/removal.">system::update_buslist()</a> is only called if there was an actual change to the bus list. The return value therefor has been eliminated and is now void.</p>
<p>void <a class="el" href="classtcat_1_1dice_1_1bus__impl.html#aad2c9e7d395b69a43474d9ab8acb29fc" title="Notifies about device arrival/removal and updates the internal STL list.">bus::update_devicelist()</a> is only called if there was an actual change to the device list. The return value therefor has been eliminated and is now void.</p>
<p>Since no actual data fetching is done in the update notifiers anymore it does not make sense to throw any kind of exceptions to be handled by the pal. Therefor the exception declaration of the notifiers has been removed.<br/>
<br/>
</p>
<p><b>2. OSX: Utilizes Apples FWLib for asynchronous <a class="el" href="classtcat_1_1dice_1_1device.html#aa0195c2de2916b8355f2b40284f32ea1" title="Issues an OHCI asynchronous read command.">device::ohci_read()</a> / <a class="el" href="classtcat_1_1dice_1_1device.html#acacc05ae1e778622d3a333fc371c70f1" title="Issues an OHCI asynchronous write command.">device::ohci_write()</a></b><br/>
 This changes only the underlying FW communication method. No changes to the pal interface are made.<br/>
<br/>
<br/>
 </p>
</div>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>Platform Abstraction Layer API Documentation</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<link href="doxygen.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<hr size="1">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td><small><font face="Verdana, Arial, Helvetica, sans-serif">(C) COPYRIGHT 2007-2013 TC Applied Technologies, Ltd. (ALL RIGHTS RESERVED)</font></small></td>
				<td colspan="2" align="right"><font face="Verdana, Arial, Helvetica, sans-serif">Compiled on 14 Jun 2013</font></td>
			</tr>
		</table>
	</body>
</html>
